# Human Plus AI Analyst: Defying Gravity

## Introduction

In my previous experiment, **Human Analyst vs. AI Analyst**, we pitted standard LLM chat interfaces against a human using Tableau. We learned that while AI is fast, it often lacks the nuance of a hands-on tool.

Today, we are taking the training wheels off. We aren't just uploading a CSV to a chat window. We are using **Google's new AI IDE, Antigravity**, to connect directly to a live **Snowflake** database.

The goal? To see if an AI Agent can act as a true extension of the analyst; navigating schemas, writing production-ready SQL, and visualizing the data within the IDE, all from a natural language prompt.

## The Scenario: The Monday Morning "Fire Drill"

We are roleplaying a Senior Analyst at *Sun Spectra* (our fictional retail company). Itâ€™s Monday morning, and the VP of Sales needs an "Executive Update" immediately. They aren't looking for a deep dive; they want a pulse check on performance to help them tell a story in their afternoon board meeting.

### The VP's Request

The VP has asked for three specific insights:

1. **Quarterly Performance:** What are the total sales, broken down by category and quarter? (Visual: Bar Chart + Table)
2. **Product Extremes:** What are the top 5 and worst 5 performing products for each quarter? (Visual: Diverging Bar Chart + Table)
3. **Customer Demographics:** Which 3 customer age segments purchased the most in the last two quarters? (Visual: Grouped Bar Chart with Avg Spend Line + Table)

*Note: For this analysis, Quarters are defined as calendar Q1 (Jan-Mar), Q2 (Apr-Jun), etc.*

## The Tool Stack

* **Database:** Snowflake (Hosting the *Sun Spectra* Retail Dataset)
* **The Agent/IDE:** Google Antigravity
* **The Bench:** Me (A human analyst with too much coffee)

## The Approach

Unlike a standard chat where you paste data, this workflow mimics a developer environment.

### Phase 1: Context & Metadata

Before asking the Agent to build charts, it needs to understand the "physics" of our world.

* **Action:** We utilized the IDE to scan the Snowflake schema (`SUN_SPECTRA.CATALOG.PRODUCT_CATALOG`, `SALES_HISTORY`, etc.).
* **Goal:** Establish a "Context Layer" so the AI knows how tables join (e.g., `PRODUCT_ID` to `SKU`) without us explicitly writing the joins every time.

### Phase 2: The "Prompt Requirements Document" (PRD)

Instead of blind prompting, I used a separate instance of Gemini to look at our database metadata and generate a **System Instruction** for the Antigravity Agent. Think of this as translating "Business Ask" into "Robot Instructions."

*(Link to the PRD Prompt will be added here)*

### Phase 3: Execution (The Analysis)

We fed the instructions into the IDE Agent. Here is how it handled the workflow:

#### Task 1: Total Sales by Category/Quarter

* **The SQL Generation:** Did it handle the date grouping correctly?
* **The Visualization:** Did it render a clean bar chart?
* **Analyst Grade:** [Pass/Fail]

#### Task 2: Top & Worst 5 Products

* **The Complexity:** This requires ranking functions (like `QUALIFY` or `RANK()` in Snowflake). Did the AI figure that out, or did it try to do it in Python memory?
* **The Visualization:** Diverging bars are tricky. How did it handle the UI?
* **Analyst Grade:** [Pass/Fail]

#### Task 3: Customer Segmentation (The Join Heavy Lift)

* **The Complexity:** This requires joining Sales, Customers, and Products, filtering by specific dates, and grouping by age buckets.
* **The Visualization:** Combo charts (Bar + Line) are notoriously hard for AI agents to format correctly.
* **Analyst Grade:** [Pass/Fail]

## Results & Reflection

*(This section will be populated with the final output comparison)*

### Did it beat the Human?

* **Speed:** [TBD]
* **Accuracy:** [TBD]
* **Frustration Level:** [TBD]

### Key Takeaways for "Pauls" (Practitioners)

1. **Schema Context is King:** The Agent only performed as well as the metadata we exposed to it.
2. **The "Black Box" Problem:** Verifying the SQL generated by the IDE took nearly as long as writing it from scratch.
3. **Future Outlook:** This isn't replacing the analyst, but it might replace the *Junior* Analyst's SQL writing tasks.
